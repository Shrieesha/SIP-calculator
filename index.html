<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SIP Calculator</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f9;
            color: #333;
        }
        input, button {
            padding: 10px;
            margin: 5px;
            font-size: 16px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            padding: 10px;
            border: 1px solid #ccc;
            text-align: center;
        }
        th {
            background-color: #f0f0f0;
        }
        button {
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>

<section id="sip-calculator">
    <h2>SIP Calculator (5 Years)</h2>
    <label>Monthly Investment (₹): </label>
    <input type="number" id="monthlyInvestment" value="1000" /><br />
    <label>Increment Rate (%): </label>
    <input type="number" id="incrementRate" value="5" /><br />
    <button onclick="calculateSIP()">Calculate</button>
    <button onclick="downloadPDF()">Download PDF</button>

    <table id="resultTable">
        <thead>
            <tr>
                <th>Month</th>
                <th>Investment (₹)</th>
                <th>Invested Value (₹)</th>
                <th>Rate of Increment (%)</th>
                <th>Total Increased Value (₹)</th>
                <th>Total Value (₹)</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
</section>

<script>
function calculateSIP() {
    const monthlyInvestment = parseFloat(document.getElementById('monthlyInvestment').value);
    const incrementRate = parseFloat(document.getElementById('incrementRate').value) / 100;
    const tableBody = document.querySelector('#resultTable tbody');

    tableBody.innerHTML = '';

    let total = 0;
    let investedValue = 0;
    let increasedValue = 0;

    for (let month = 1; month <= 60; month++) {
        investedValue = total + monthlyInvestment;
        increasedValue = investedValue * incrementRate;
        total = investedValue + increasedValue;

        tableBody.innerHTML += `
            <tr>
                <td>${month}</td>
                <td>${monthlyInvestment.toFixed(2)}</td>
                <td>${investedValue.toFixed(2)}</td>
                <td>${(incrementRate * 100).toFixed(2)}%</td>
                <td>${increasedValue.toFixed(2)}</td>
                <td>${total.toFixed(2)}</td>
            </tr>`;
    }
}

function downloadPDF() {
    const { jsPDF } = window.jspdf;
    const pdf = new jsPDF();

    pdf.setFontSize(14);
    pdf.text("SIP Calculator Results", 14, 15);

    const table = document.getElementById('resultTable');
    const rows = table.querySelectorAll('tr');

    let y = 30;
    let pageHeight = pdf.internal.pageSize.height;
    let rowHeight = 10;

    pdf.setLineWidth(0.5);

    rows.forEach((row) => {
        if (y + rowHeight > pageHeight - 20) {
            pdf.addPage();
            y = 20;
            pdf.text("SIP Calculator Results (Contd.)", 14, 15);
        }

        let cols = row.querySelectorAll('th, td');
        let x = 14;

        cols.forEach((col) => {
            pdf.text(col.innerText, x + 2, y);
            x += 35;
            pdf.line(x, y - 5, x, y + 5);
        });

        pdf.line(14, y - 5, 14 + (35 * cols.length), y - 5);
        pdf.line(14, y + 5, 14 + (35 * cols.length), y + 5);

        y += rowHeight;
    });

    pdf.save("SIP_Calculator.pdf");
}
</script>

</body>
</html>
